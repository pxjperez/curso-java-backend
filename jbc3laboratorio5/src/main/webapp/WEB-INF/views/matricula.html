<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title>JSP Page</title>
        <link rel="stylesheet" href="css/estilos.css"/>
    </head>
    <body>

        <h1>Matricula Cursos</h1>   
        <h4>Bienvenido <label th:text='${usuario.user}'></label></h4>
        <div>
            <table  border="1">
                <thead>
                    <tr>
                        <th>Codigo</th>
                        <th>Fecha</th>
                        <th>Usuario</th>
                        <th>Curso</th>
                        <th>Estado</th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="matricula:${listaMatriculas}">
                        <td th:text="${matricula.idMatricula}"></td>
                        <td th:text="${matricula.fechaMat}"></td>
                        <td th:text="${matricula.usuario.nombreApellido}"></td>
                        <td th:text="${matricula.curso.nomCurso}"></td>
                        <td th:text="${matricula.estado}"></td>
                    </tr>
                </tbody>
            </table>
            <br><label th:text="${msgError!=null} ? ${msgError}: ''"  style="color: red"></label> 
        </div>
        <div>
            <form th:action="@{grabarMatricula}" method="post">
                <table>
                    <tr>
                        <td>FECHA:</td>
                        <td>
                            <input name="fechaMat" id="fechaMat" type="date" required="required" placeholder="Fecha">
                        </td>
                    </tr>
                    <tr>
                        <td>USUARIO:</td>
                        <td>
                            <select name="idUsuario" id="idUsuario">
                                <option  th:each="usuario:${listaUsuarios}" th:value="${usuario.idUsuario}" th:text="${usuario.user}"></option>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td>CURSO:</td>
                        <td>
                            <select name="idCurso" id="idCurso">
                                <option  th:each="curso:${listaCursos}" th:value="${curso.idCurso}" th:text="${curso.nomCurso}"></option>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td>ESTADO:</td>
                        <td>
                            <input type="radio" value="1" name="estado">Activo
                            <input type="radio" value="0" name="estado">Desactivo
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2">
                            <input type="submit" value="GRABAR">
                        </td>
                    </tr>
                </table>
            </form>
        </div>
        <br><a href="index">REGRESAR</a>
    </body>
</html>
